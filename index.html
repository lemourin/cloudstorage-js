<html>

<head>
    <script>
        const state = location.search.match(".*[\?&]state=([^&]*)(&.*$|$)");
        if (state) {
            const code = location.search.match(".*[\?&]code=([^&]*)(&.*$|$)");
            if (code) {
                document.location.hash = `/authorized/${state[1]}/${encodeURIComponent(decodeURIComponent(code[1]))}`;
                document.location.search = "";
            } else {
                const error = location.search.match(".*[\?&]error=([^&]*)(&.*$|$)");
                document.location.hash = `/unauthorized/${state[1]}/${encodeURIComponent(decodeURIComponent(error[1]))}`;
                document.location.search = "";
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
    <script src="./dist/cloudstorage-wasm.js"></script>
    <script src="./dist/main.js"></script>
</head>

<body>
    <div id="main">Loading</div>
</body>

</html>